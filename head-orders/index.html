
<!doctype html>
<html lang="ru" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-7.2.3">
    
    
      
        <title>Описание - TINKOFF INVEST API</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.f7f47774.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f5d1f46.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="black" data-md-color-accent="yellow">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Перейти к содержанию
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="TINKOFF INVEST API" class="md-header__button md-logo" aria-label="TINKOFF INVEST API" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            TINKOFF INVEST API
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Описание
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Поиск" placeholder="Поиск" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/RussianInvestments/investAPI" title="Перейти к репозиторию" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="TINKOFF INVEST API" class="md-nav__button md-logo" aria-label="TINKOFF INVEST API" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    TINKOFF INVEST API
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/RussianInvestments/investAPI" title="Перейти к репозиторию" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      <label class="md-nav__link" for="__nav_1">
        Начало работы
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Начало работы" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Начало работы
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Начало работы
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../glossary/" class="md-nav__link">
        Глоссарий
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../limits/" class="md-nav__link">
        Лимитная политика
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../token/" class="md-nav__link">
        Токен доступа
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../faq_identification/" class="md-nav__link">
        Идентификация торговых инструментов
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../faq_custom_types/" class="md-nav__link">
        Нестандартные типы данных
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../faq_trading_status/" class="md-nav__link">
        Торговые статусы инструментов и расписание торгов
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../load_history/" class="md-nav__link">
        Порядок работы с историческими данными
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../orders_details/" class="md-nav__link">
        Работа с торговыми поручениями
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../deadlines/" class="md-nav__link">
        Дедлайны запросов
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../robot_contest/" class="md-nav__link">
        Таблица конкурсных работ
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../table_order_currency/" class="md-nav__link">
        Таблица параметров, возвращающих валюту или пункты
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../cases/" class="md-nav__link">
        Описание наиболее популярных кейсов
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        Протоколы
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Протоколы" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Протоколы
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api_protocols/" class="md-nav__link">
        Доступные протoколы
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../grpc/" class="md-nav__link">
        GRPC
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../ws/" class="md-nav__link">
        WebSocket
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../swagger/" class="md-nav__link">
        Как пользоваться Swagger?
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Полезная информация
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Полезная информация" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Полезная информация
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../algorithmic_trading/" class="md-nav__link">
        Алгоритмический трейдинг
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tech_indicators/" class="md-nav__link">
        Индикаторы технического анализа
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../markets/" class="md-nav__link">
        Торговые площадки и режимы торгов
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../weekend_trading/" class="md-nav__link">
        Торговля в выходные
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../accredited_investor/" class="md-nav__link">
        Квалифицированный инвестор
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../faq_corp_action/" class="md-nav__link">
        Правила обработки корпоративных действий
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../speedup/" class="md-nav__link">
        Как ускорить работу с биржей
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../sla/" class="md-nav__link">
        SLA
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../example/" class="md-nav__link">
        Примеры запросов
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../eol_v1/" class="md-nav__link">
        EOL v1
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../stream/" class="md-nav__link">
        Stream-соединения
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../points/" class="md-nav__link">
        Цены облигаций и фьючерсов
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        Ответы на частые вопросы
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Языки программирования
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Языки программирования" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Языки программирования
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../faq_python/" class="md-nav__link">
        Python
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../faq_java/" class="md-nav__link">
        Java
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../faq_csharp/" class="md-nav__link">
        С#
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../faq_golang/" class="md-nav__link">
        Golang
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Сервис счетов
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Сервис счетов" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Сервис счетов
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../head-users/" class="md-nav__link">
        Описание
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../users/" class="md-nav__link">
        Методы
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../faq_users/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      <label class="md-nav__link" for="__nav_7">
        Сервис инструментов
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Сервис инструментов" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Сервис инструментов
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../head-instruments/" class="md-nav__link">
        Описание
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../instruments/" class="md-nav__link">
        Методы
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../faq_instruments/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../more-instrument/" class="md-nav__link">
        Больше информации о сервисе инструментов
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" checked>
      
      <label class="md-nav__link" for="__nav_8">
        Сервис ордеров
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Сервис ордеров" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Сервис ордеров
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Описание
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Описание
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Содержание">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Содержание
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    Статусная модель заявок
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    Метод выставления заявок
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    Получение списка активных заявок по счёту
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    Получение статуса торгового поручения
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    Идентификатор ключа идемпотентности
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    Отмена торгового поручения
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stream" class="md-nav__link">
    Stream исполнения поручений пользователя
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    Изменение выставленных заявок
  </a>
  
    <nav class="md-nav" aria-label="Изменение выставленных заявок">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tradesstream-" class="md-nav__link">
    TradesStream - стрим совершенных сделок пользователя
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    Торговые статусы инструментов и расписание торгов
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    Выставление заявок по опционам
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../orders/" class="md-nav__link">
        Методы
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../faq_orders/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../table_order_currency/" class="md-nav__link">
        Таблица параметров возвращающих валюту или пункты
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      <label class="md-nav__link" for="__nav_9">
        Сервис операций
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Сервис операций" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Сервис операций
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../head-operations/" class="md-nav__link">
        Описание
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../operations/" class="md-nav__link">
        Методы
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../faq_operations/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../operations_problems/" class="md-nav__link">
        Особенности взаимодействия
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      <label class="md-nav__link" for="__nav_10">
        Сервис котировок
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Сервис котировок" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Сервис котировок
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../head-marketdata/" class="md-nav__link">
        Описание
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../marketdata/" class="md-nav__link">
        Методы
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../faq_marketdata/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../get_history/" class="md-nav__link">
        Получение исторических рыночных данных
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../get_tech_indicators/" class="md-nav__link">
        Методы работы с индикаторами технического анализа
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" >
      
      <label class="md-nav__link" for="__nav_11">
        Сервис стоп-ордеров
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Сервис стоп-ордеров" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          Сервис стоп-ордеров
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../head-stoporders/" class="md-nav__link">
        Описание
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../stoporders/" class="md-nav__link">
        Методы
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../faq_stoporders/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12" type="checkbox" id="__nav_12" >
      
      <label class="md-nav__link" for="__nav_12">
        Песочница
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Песочница" data-md-level="1">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          Песочница
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../head-sandbox/" class="md-nav__link">
        Описание
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../sandbox/" class="md-nav__link">
        Методы
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../faq_sandbox/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../url_difference/" class="md-nav__link">
        Отличия контура песочницы
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_13" type="checkbox" id="__nav_13" >
      
      <label class="md-nav__link" for="__nav_13">
        Коды ошибок
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Коды ошибок" data-md-level="1">
        <label class="md-nav__title" for="__nav_13">
          <span class="md-nav__icon md-icon"></span>
          Коды ошибок
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../errors/" class="md-nav__link">
        GRPC
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../ws/errors/" class="md-nav__link">
        WebSocket
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Содержание">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Содержание
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    Статусная модель заявок
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    Метод выставления заявок
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    Получение списка активных заявок по счёту
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    Получение статуса торгового поручения
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    Идентификатор ключа идемпотентности
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    Отмена торгового поручения
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stream" class="md-nav__link">
    Stream исполнения поручений пользователя
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    Изменение выставленных заявок
  </a>
  
    <nav class="md-nav" aria-label="Изменение выставленных заявок">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tradesstream-" class="md-nav__link">
    TradesStream - стрим совершенных сделок пользователя
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    Торговые статусы инструментов и расписание торгов
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    Выставление заявок по опционам
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/RussianInvestments/investAPI/edit/master/docs/head-orders.md" title="Редактировать страницу" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="_1">Сервис работы с торговыми поручениями</h1>
<h2 id="_2">Статусная модель заявок</h2>
<p><img alt="Диаграмма статусов заявок" src="/investAPI/img/order_status_diagram.png" title="Диаграмма статусов заявок" /></p>
<h2 id="_3">Метод выставления заявок</h2>
<p>Одной из главных функций торгового робота, безусловно, является выставление на бирже заявок. 
Для решения этой задачи можно использовать unary-метод <a href="/investAPI/orders#postorder">postOrder</a>.</p>
<p>Unary-метод <a href="/investAPI/orders#postorder">postOrder</a> позволяет выставлять все 
типы заявок (рыночные, лимитные). </p>
<p><a href="/investAPI/orders#postorder">PostOrder</a> принимает на вход параметр <code>instrument_id</code> - Идентификатор инструмента, принимает значения Figi или instrument_uid.
Подробнее можно ознакомится на странице с информаций <a href="/investAPI/faq_identification/">об идентификаторах</a>.</p>
<p>Подробнее о торговых поручениях, их видах и особенностях исполнения на биржах можно почитать в статье: 
<a href="/investAPI/faq_orders/">Работа с торговыми поручениями</a>.</p>
<p><strong>Важно!</strong> Для исключения дублирования заявок в процессе работы используется параметр 
<em>order_id</em>, который требуется сгенерировать любым удобным способом перед вызовом метода. Если
сервис получит несколько запросов с одинаковым <em>order_id</em>, то на биржу выставится только одно торговое
поручение. Все последующие запросы, содержащие существующий <em>order_id</em>, будут возвращать статус этого
торгового поручения. </p>
<p><strong>Важно!</strong> На данный момент мы имеем два параметра с одинаковым наименованием:</p>
<ul>
<li><em>order_id</em> как входной параметр - ключ идемпотентности. Срок хранения ключа идемпотентности один год.</li>
<li><em>order_id</em> как выходной параметр - биржевой идентификатор заявки, используемый в дальнейшем для отслеживания статуса ордера. </li>
</ul>
<p><a name="coupon"></a>
При выполнении <strong>операций с облигациями</strong> следует также учитывать <a href="/investAPI/glossary#coupon">накопленный купонный доход</a>.
Размер НКД можно узнать при помощи параметра <em>aci_value</em> методов получения информации по облигациям или метода
выставления торгового поручения. Обратите внимание, что в параметре <em>aci_value</em> возвращается размер НКД в
валюте расчётов за 1 лот. <strong>Т.е. при покупке облигаций к стоимости сделки будет добавлено произведение НКД на
количество лотов в сделке (<em>aci_value</em>*<em>quantity</em>), при продаже на это произведение сумма сделки будет уменьшена.</strong></p>
<p>Выставлять заявку с ценой с отрицательным значением возможно только для фьючерсов, в ином случае метод вернет ошибку.</p>
<p><strong>Рекомендация!</strong> Поскольку на данный момент нет возможности выставить заявку стоимостью свыше 6 млн через Tinkoff Invest API (потребуется подтверждение заявки по sms), необходимо разбивать заявки стоимостью свыше 6 млн на заявки меньшего размера.</p>
<h2 id="_4">Получение списка активных заявок по счёту</h2>
<p>Для того чтобы торговому роботу более эффективно управлять торговыми поручениями, ему нужно иметь 
возможность получать список активных на данный момент заявок. Для решения этой задачи используется метод
<a href="/investAPI/orders#getorders">getOrders</a>. Обратите внимание, что данный метод 
возвращает только активные торговые поручения, т.е. после исполнения заявка пропадает из возвращаемого 
списка. </p>
<h2 id="_5">Получение статуса торгового поручения</h2>
<p>Несмотря на то, что статус исполнения поданного торгового поручения можно получить повторным вызовом 
метода выставления (с тем же параметром <em>order_id</em>), рекомендуется использовать для этих целей метод 
<a href="/investAPI/orders#getorderstate">getOrderState</a>. Данный метод возвращает, в том числе, стадии 
выполнения заявки (массив <em>stages</em>).</p>
<p><strong>Важно!</strong> Метод получения статуса торгового поручения не предусмотрен для получения глубокой 
истории и может не возвращать информацию по поручениям "старше" одних суток.</p>
<h2 id="_6">Идентификатор ключа идемпотентности</h2>
<p>Допустим, вы оформляете ордер на покупку ценной бумаги. Запрос может потеряться в пути, и тогда хорошая идея попробовать отправить его снова. Проблема в том, что возможно на самом деле потерялся не запрос, а ответ. Тогда в результате будет создано два ордера.</p>
<p>Поэтому для этой операции выдвигается требование идемпотентности. Это свойство означает, что сколько бы раз операция не была вызвана, эффект будет одинаковым. В нашем примере, должно быть не важно, один раз был отправлен запрос или 10 – должен быть создан ровно один или ноль (в случае ошибки) ордеров.</p>
<p>Стандартный способ достичь этого свойства – генерация на стороне клиента ключа идемпотентности. Это просто некое уникальное значение. На стороне обработки запроса выполняется только та операция, ключ которой еще не встречался. Таким образом становится возможно делать retry безопасно.</p>
<p><strong>Важно!</strong> В целях сохранения единообразия <strong>в запросах</strong> метода <a href="/investAPI/orders#postorder">postOrder</a> параметр <em>order_id</em> - ключ идемпотентности, передаваемый от клиента. 
А <strong>в ответах</strong> метода <a href="/investAPI/orders#postorder">postOrder</a> <em>order_id</em> - биржевой идентификатор заявки. 
Ключом идемпотентности, передаваемым от клиента, <strong>в ответах методов</strong> является параметр <em>order_request_id</em>. 
В параметр order_id запроса метода <a href="/investAPI/orders#getorderstate">getOrderState</a> необходимо передавать order_id из ответа метода <a href="/investAPI/orders#postorder">postOrder</a>, т.е. биржевой идентификатор заявки.</p>
<p>Повторное использование одного и того же order_id в запросах метода <a href="/investAPI/orders#postorder">postOrder</a> в случае, если уже существует успешно размещенный ордер с таким order_id, приведет к ошибке.</p>
<h2 id="_7">Отмена торгового поручения</h2>
<p>Далеко не все торговые поручения, выставляемые на торговую площадку, могут и должны быть исполнены. 
Ситуация на рынке меняется динамично, поэтому торговому роботу необходима возможность отменять
выставленные заявки. Для реализации этой функциональности используется метод <a href="/investAPI/orders#cancelorder">cancelOrder</a>.</p>
<h2 id="stream">Stream исполнения поручений пользователя</h2>
<p>TINKOFF INVEST API предоставляет stream с трансляцией исполнения сделок. В данный стрим попадают все
совершённые сделки по всем счетам пользователя. </p>
<p>Для сохранения стабильного подключения при отсутствии данных в stream-соединении сервером периодически
отправляется ping-пакет. Клиенту реагировать на него нет необходимости.</p>
<h2 id="_8">Изменение выставленных заявок</h2>
<p>Для изменения уже выставленных поручений в TINKOFF INVEST API добавлен метод <a href="/investAPI/orders#replaceorder">replaceOrder</a>.</p>
<p>Данный метод позволяет изменить существующую выставленную заявку, путем ее отмены и выставления новой заявки с измененными параметрами.</p>
<p>Для использования данного метода необходимо использовать идентификатор заявки на бирже, полученный при выставлении заявки с помощью Unary-метода <a href="/investAPI/orders#postorder">postOrder</a>.</p>
<p>Во время использования метода, могут произойти различные события на разных этапах исполнения. 
Так если ошибка произойдет из-за невозможности отмены поручения, то вернется ошибка с кодом 30059, и описание причины в message.
В случаях если после отмены поручения невозможно выставить новое поручение, то вернется ошибка метода <a href="/investAPI/orders#postorder">postOrder</a> с соответствующим кодом и описанием. Все коды и описания ошибок вы можете найти в <a href="/investAPI/errors">соответствующем разделе</a>.</p>
<h3 id="tradesstream-">TradesStream - стрим совершенных сделок пользователя</h3>
<p>В TINKOFF INVEST API представлен gRPC server-side <a href="https://russianinvestments.github.io/investAPI/orders/#tradesstream">TradesStream</a> получения сделок с биржи.
Стрим предназначен для получения событий по поручениям пользователя, по факту их исполнения.
Использование TradesStream поможет в быстром получении информации об исполнении поручения, и выполненных сделках в рамках поручения, с отображением номера счета, на котором выполнилось поручение.</p>
<p>Для работы со стрим-соединениями также существуют ограничения, согласно <a href="/investAPI/limits">лимитной политике</a></p>
<h3 id="_9">Торговые статусы инструментов и расписание торгов</h3>
<p>Информацию о статусах инструментов и расписаниях торгов вы можете получить на странице <a href="https://russianinvestments.github.io/investAPI/faq_trading_status/">Торговые статусы инструментов и расписание торгов</a>.</p>
<p>Так же рекомендуем смотреть актуальную информацию по режимам и статусам торгов на сайтах <a href="https://www.moex.com/">Московской биржи</a> и <a href="https://spbexchange.ru/">СПБ биржи</a>. </p>
<h3 id="_10">Выставление заявок по опционам</h3>
<p>На данный момент в TINKOFF INVEST API для работы с опционами доступны только лимитные заявки. 
Рыночная заявка, Тейк-профиты и стоп-заявки появятся совсем скоро. </p>
                
              
              
<!-- Add custom comment system integration here -->
<div class="container">
    <script src="https://utteranc.es/client.js"
            repo="https://github.com/RussianInvestments/investAPI"
            issue-term="Описание comments"
            label="documentation"
            theme="github-light"
            crossorigin="anonymous"
            async>
    </script>
</div>

            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../more-instrument/" class="md-footer__link md-footer__link--prev" aria-label="Назад: Больше информации о сервисе инструментов" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Назад
              </span>
              Больше информации о сервисе инструментов
            </div>
          </div>
        </a>
      
      
        
        <a href="../orders/" class="md-footer__link md-footer__link--next" aria-label="Вперед: Методы" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Вперед
              </span>
              Методы
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.709b4209.min.js", "translations": {"clipboard.copied": "\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0431\u0443\u0444\u0435\u0440", "clipboard.copy": "\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0431\u0443\u0444\u0435\u0440", "search.config.lang": "ru", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "\u041f\u043e\u0438\u0441\u043a", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e", "search.result.one": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e 1 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0435", "search.result.other": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e # \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439", "search.result.placeholder": "\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.29db7785.min.js"></script>
      
    
  </body>
</html>